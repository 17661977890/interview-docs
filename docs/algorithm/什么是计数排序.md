
 **案列** 
- 数组里有20个随机整数，取值范围从0到10，要求用最快的速度把这20个整数从小到大进行排序

 **解决方案** 
- 一般情况下使用快速排序就可以，时间复杂度是o(nlong)，但是无论是快速排序，还冒泡排序，都是基于元素的比较来进行排序的。有一种特殊的算法叫计算排序，不是基于元素比较，还是基于数组下标来确定元素的正确位置。

 **数组下标怎样帮助排序的？** 
- 如题 随机整数取值范围是0到10，所以这些整数必定是0到11这些元素中产生，所以我们可以根据这个整数的取值范围，建立一个长度为11的数组，数据下标从0到10，元素初始值全为0

![输入图片说明](https://images.gitee.com/uploads/images/2018/1024/094420_305c1478_1478371.png "屏幕截图.png")

假定20个随机整数的值如下：

9，3，5，4，9，1，2，7，8，1，3，6，5，3，4，0，10，9 ，7，9、

 **如何给这些无序的随机整数排序呢？** 

非常简单，让我们遍历这个无序的随机数列，每一个整数按照其值对号入座，对应数组下标的元素进行加1操作。

比如第一个整数是9，那么数组下标为9的元素加1：
![输入图片说明](https://images.gitee.com/uploads/images/2018/1024/094538_03cd87aa_1478371.png "屏幕截图.png")

第二个整数是3，那么数组下标为3的元素加1：
![输入图片说明](https://images.gitee.com/uploads/images/2018/1024/094603_d0b758d9_1478371.png "屏幕截图.png")

继续遍历数列并修改数组 最终，数列遍历完毕时，数组的状态如下：
![输入图片说明](https://images.gitee.com/uploads/images/2018/1024/094629_68f22771_1478371.png "屏幕截图.png")

数组每一个下标位置的值，代表了数列中对应整数出现的次数。

有了这个“统计结果”，排序就很简单了。直接遍历数组，输出数组元素的下标值，元素的值是几，就输出几次：

0，1，1，2，3，3，3，4，4，5，5，6，7，7，8，9，9，9，9，10

显然，这个输出的数列已经是有序的了。这个是计数排序的基本过程，它试用于一定范围的整数排序，在取值范围不是很大的情况下它的性能甚至快过那些o(nlong)的排序。

```
/***
	 * 数组里有20个随机整数，取值范围从0到10，要求用最快的速度把这20个整数从小到大进行排序
	 * @param args
	 */
	public static void main(String[] args) {
		int[] array=new int[]{4,4,6,5,3,2,8,1,7,5};
		countSort(array);
	}
	
	public static void  countSort(int[]array){
		//取得数列的最大值
		int max=array[0];
		for (int i = 0; i < array.length; i++) {
			if(array[i]>max){
				max=array[i];
			}
		}
		
		//根据最大值确定统计数组的长度
		int[] countArray=new int[max+1];
		//遍历数列 填充统计数组
		for (int i = 0; i < array.length; i++) {
			//对应数组下标的元素进行加1操作
			countArray[array[i]]++;
		}
		//遍历统计数组，输出结果
		int index=0;
		int[] sortArray=new int[array.length];
		for (int i = 0; i < countArray.length; i++) {
			for (int j = 0; j <countArray[i]; j++) {
				sortArray[index++]=i;
			}
		}
		System.out.println(Arrays.toString(sortArray));
	}
```

如果以数列的最大值来决定统计数组的长度 并不严谨，如果数列的最大值99 但是最小值是90 就会创建很多空位置

 **怎么解决这个问题呢？** 

很简单，我们不再以（输入数列的最大值+1）作为统计数组的长度，而是以（数列最大值和最小值的差+1）作为统计数组的长度。

同时，数列的最小值作为一个偏移量，用于统计数组的对号入座。

以刚才的数列为例，统计数组的长度为  99-90+1 = 10 ，偏移量等于数列的最小值 90 。
